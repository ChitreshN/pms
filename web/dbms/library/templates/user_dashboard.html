<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>User Dashboard - Library Management System</title>
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
</head>

<style>
body {
    background-color: #f4f7f6; 
    color: #333; 
    margin-top: 50px;
  }
  
  .navbar-brand {
    font-size: 1.5em; 
    color: #ffd700 !important; 
  }
  
  .navbar {
    margin-bottom: 30px;
    background-color: #0056b3; 
  }
  
  .nav-link {
    color: #fff !important; 
  }
  
  .list-group-item-action {
    transition: transform 0.1s ease-in-out; 
  }
  
  .list-group-item-action:hover {
    transform: scale(1.05); 
    background-color: #e9ecef; 
  }
  
  .container h1 {
    color: #0056b3; 
    margin-bottom: 20px;
  }
  
  .lead {
    font-size: 1.1em; 
    color: #666; 
  }
  
  .list-group-item {
    border: none; 
    border-radius: 5px; 
    margin-bottom: 10px; 
    box-shadow: 0 2px 4px rgba(0,0,0,.2); 
  }
  
  
  @media (max-width: 768px) {
    .navbar {
      margin-bottom: 20px;
    }
  
    .container h1 {
      font-size: 1.8em; 
    }
  }
  .search-bar {
    display: flex;
    justify-content: space-between;
    gap: 10px;
}
.search-bar input {
    flex-grow: 1;
}
.search-bar button {
    min-width: 120px; 
}
.search-bar::after {
    content: "";
    display: table;
    clear: both;
}

</style>
<body>
<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
  <a class="navbar-brand" href="#">Library System</a>
</nav>

<div class="search-bar mb-3 d-flex justify-content-between">
    <input type="text" class="form-control" placeholder="Search for books...">
    <button class="btn btn-primary ml-2" id="searchButton">Search</button>
</div>

<div class="container">
    <h2>{{ first_name }} {{ last_name }}</h2>

    <div class="list-group">
        <h4>Currently Borrowed Books</h4>
        {% if currently_borrowed %}
            <ul class="list-group">
                {% for book in currently_borrowed %}
                    {%with book_id=book.1 book_title=book.0 %}
                    <li class="list-group-item"><a href="{{ request.path }}/books/{{ book_id }}">{{ book_title }}</a></li>
                    {%endwith%}
                {% endfor %}
            </ul>
        {% else %}
            <p>No books currently borrowed </p>
        {% endif %}
    </div>

    <div class="list-group mt-4">
        <h4>Reading History</h4>
        {% if reading_history %}
            <ul class="list-group">
                {% for book in reading_history %}
                    {%with book_id=book.1 book_title=book.0 %}
                    <li class="list-group-item"><a href="{{ request.path }}/books/{{ book_id }}">{{ book_title }}</a></li>
                    {%endwith%}
                {% endfor %}
            </ul>
        {% else %}
            <p>No reading history available</p>
        {% endif %}
    </div>

    <div class="list-group mt-4">
        <h4>Private List</h4>
        {% if private_list %}
            <ul class="list-group">
                {% for book in private_list %}
                    {%with book_id=book.1 book_title=book.0 %}
                    <li class="list-group-item"><a href="{{ request.path }}/books/{{ book_id }}">{{ book_title }}</a></li>
                    {%endwith%}
                {% endfor %}
            </ul>
        {% else %}
            <p>No private list available</p>
        {% endif %}
    </div>
</div>

<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
</body>
</html>

